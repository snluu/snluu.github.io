<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.31.1">

<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="github.com/snluu/commander">
  <title>Commander(T) - github.com/snluu/commander</title>
  <script type="text/javascript">
    CrystalDoc.base_path = "";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="github.com/snluu/commander/Commander" data-name="commander(t)">
      <a href="Commander.html">Commander</a>
      
        <ul>
  
  <li class=" " data-id="github.com/snluu/commander/Commander/Try" data-name="commander::try(t)">
      <a href="Commander/Try.html">Try</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Commander(T)

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="Commander.html">Commander(T)</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>A commander can dispatch blocks to run concurrently.
The caller can dictate the number of concurrent jobs by
passing in a max concurrency at the time of initialization.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L4" target="_blank">
        commander.cr
      </a>
    
    <br/>
  



  
    <h2>
      <a id="constant-summary" class="anchor" href="#constant-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
      Constant Summary
    </h2>
  
  <dl>
    
      <dt class="entry-const" id="DEFAULT_RESULT_CAPACITY">
        <strong>DEFAULT_RESULT_CAPACITY</strong> = <code><span class="n">1024</span></code>
      </dt>
      
    
  </dl>



  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(result_capacity,max_concurrency)-class-method" class="signature"><strong>.new</strong>(result_capacity, max_concurrency)</a>
        
          <div class="summary"><p>Initializes a new instance of this class with the given max concurrency.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new-class-method" class="signature"><strong>.new</strong></a>
        
          <div class="summary"><p>Initializes a new instance with the default result capacity, and no concurrency limit.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="class-method-summary" class="anchor" href="#class-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#with_capacity(result_capacity)-class-method" class="signature"><strong>.with_capacity</strong>(result_capacity)</a>
        
          <div class="summary"><p>Creates a new instance with the given result capacity, without concurrency limit.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#with_concurrency_limit(max_concurrency)-class-method" class="signature"><strong>.with_concurrency_limit</strong>(max_concurrency)</a>
        
          <div class="summary"><p>Creates a new instance with a concurrency limit, using the default result capacity.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#collect-instance-method" class="signature"><strong>#collect</strong></a>
        
          <div class="summary"><p>Collects the result of the dispatched calls.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#collect_tries-instance-method" class="signature"><strong>#collect_tries</strong></a>
        
          <div class="summary"><p>Collects the result of the dispatched calls.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#dispatch(&block:-%3ET)-instance-method" class="signature"><strong>#dispatch</strong>(&block :  -> T)</a>
        
          <div class="summary"><p>Dispatches the given block to run in a new fiber.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#size:Int32-instance-method" class="signature"><strong>#size</strong> : Int32</a>
        
          <div class="summary"><p>Gets the number of dispatched jobs</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(result_capacity,max_concurrency)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(result_capacity, max_concurrency)

        <a class="method-permalink" href="#new(result_capacity,max_concurrency)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Initializes a new instance of this class with the given max concurrency.
Max concurrency will dictate the number of concurrent jobs.
All dispatched job will run concurrently if max concurrency is set to zero.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L34" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>

        <a class="method-permalink" href="#new-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Initializes a new instance with the default result capacity,
and no concurrency limit.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L27" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="class-method-detail" class="anchor" href="#class-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Detail
  </h2>
  
    <div class="entry-detail" id="with_capacity(result_capacity)-class-method">
      <div class="signature">
        
        def self.<strong>with_capacity</strong>(result_capacity)

        <a class="method-permalink" href="#with_capacity(result_capacity)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new instance with the given result capacity,
without concurrency limit.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L21" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="with_concurrency_limit(max_concurrency)-class-method">
      <div class="signature">
        
        def self.<strong>with_concurrency_limit</strong>(max_concurrency)

        <a class="method-permalink" href="#with_concurrency_limit(max_concurrency)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new instance with a concurrency limit,
using the default result capacity.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L15" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="collect-instance-method">
      <div class="signature">
        
        def <strong>collect</strong>

        <a class="method-permalink" href="#collect-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Collects the result of the dispatched calls.
This function will only return once all the dispatched calls are finished.
This function will raise the first error that it received from any of the dispatched calls.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L93" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="collect_tries-instance-method">
      <div class="signature">
        
        def <strong>collect_tries</strong>

        <a class="method-permalink" href="#collect_tries-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Collects the result of the dispatched calls.
This function will only return once all the dispatched calls are finished.
This function does not raise any exception from the dispatched calls.
The exceptions are wrapped in <code><a href="Commander/Try.html">Try</a>(T)</code>, with <code>has_result</code> set to false.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L79" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="dispatch(&amp;block:-&gt;T)-instance-method">
      <div class="signature">
        
        def <strong>dispatch</strong>(&block :  -> T)

        <a class="method-permalink" href="#dispatch(&block:-%3ET)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Dispatches the given block to run in a new fiber.
<strong>Note</strong>: the spawned fiber will block if max concurrency is hit,
and will only proceed to invoke the given block when previously spawned fibers finishes.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L52" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="size:Int32-instance-method">
      <div class="signature">
        
        def <strong>size</strong> : Int32

        <a class="method-permalink" href="#size:Int32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the number of dispatched jobs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/snluu/commander/blob/3d7407b2ed0378980db0aca1370436b096403e0d/src/commander.cr#L11" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
