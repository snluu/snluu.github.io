<!DOCTYPE html>
<html>

<head>
    

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>On reviewing code: Some practices I&#x27;ve found useful - LUU.IO</title>
    <link rel="shortcut icon" href="/static/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/static/css/styles.css" />
    <link rel="stylesheet" type="text/css"
        href="//fonts.googleapis.com/css?family=Merriweather:300,300i,400|Montserrat:300,400" />
    
<link rel="stylesheet" type="text/css" href="/static/css/posts.css" />

</head>

<body>
    
    <div id="page">
        <header>
            <div id="site-name">
                <a href="/">LUU.IO</a>
            </div>
            <div id="nav">
                <ul id="nav-list">
                    <li><a href="/posts">Blog Posts</a></li>
                    <li><a href="/photos">Photo Gallery</a></li>
                    <li><a href="/about">About</a></li>
                </ul>
            </div>
        </header>

        <div id="container">
            <main role="main">
                
<div class="post-container">
    <h1 class="post-title">On reviewing code: Some practices I&#x27;ve found useful</h1>

    <div class="post-body">
        <div>
            <ul class="additional small">
                <li>Published on June 23, 2017</li>
            </ul>
            
            <ul class="additional small">
                <li>Tags:&nbsp;
                    <a href="../_tags/#programming">programming</a>,&nbsp;
                    <a href="../_tags/#collaboration">collaboration</a>
                </li>
            </ul>
            
        </div>
        <div class="post-content"><p>Last week, the Google Testing Blog published an <a href="https://testing.googleblog.com/2017/06/code-health-too-many-comments-on-your.html">excellent article</a> on some good practices when sending out a code review.
I want to share a little bit about the things I learned from the view point of a code reviewer.</p>
<h3>Set a bar</h3>
<p>Like many other tasks, having a clear goal or target gives every one a better sense of what progress looks like. Of course the goal of code review is to have cleaner code, more readable code, and more efficient code. But how clean is clean? How readable is readable? Surely no code is perfect, and certainly no code can please everyone.</p>
<p>My personal bar for approving a code review: <strong>When I'm on call and get woken up at 2am a few months from now, will I be able to reason about and navigate through these changes? And will this change increase or decrease the chances of me being woken up at 2am?</strong></p>
<p>Having a consistent bar like this allows me to get more efficient with reviewing code, instead of arbitrarily poking holes at a changeset.</p>
<h3>Why is this changeset necessary?</h3>
<p>This is always the first question that I seek to answer. To me as a reviewer, this is so important for getting a good sense of the whole picture, and allowing me to evaluate the alternative solutions against the changeset. I love it when the code author writes a good description about the problem the changeset is trying to solve; and if it's a large change, a brief summary of the approach.</p>
<p>Too often, developers send out changesets describing <strong>what</strong> is being changed, and fail to mention why the changesets are necessary at all. Sometimes, the author would say &quot;see bug #3423&quot; when asked for more information. Yes, I have look through the bug you linked. And no, I don't have time to read through the 20 comment exchange you had while investigating the problem.</p>
<h3>Coding style</h3>
<p>Unless the coding style is really obscure and far from the norm, I generally leave it alone. Again, this comes back to how comfortable I am with the readability of the changeset if woken up at 2am. This is one thing that has made reviewing code so much more pleasant. The code author doesn't feel like you're imposing your personal preferences on him or her, and less ego gets involved in the process.</p>
<p>I used to leave comments like &quot;nit: space here&quot;. I don't anymore. If the team really cares about coding style, setup a good linter (More on that later).</p>
<h3>Comment tactfully</h3>
<ul>
<li>
<p><strong>Use &quot;we&quot; instead of &quot;you&quot;.</strong> This <strong>is</strong> a team effort after all. I try not to make the comment sound like I'm pointing fingers and playing the blame game.<br />
For example: &quot;Can <del>you</del> we consider doing XYZ instead?&quot; or &quot;Why don't <del>you</del> we put these values into a constant?&quot;
Try reading the two versions out loud.</p>
</li>
<li>
<p><strong>Ask clarifying questions before suggesting a different approach.</strong><br />
For example: &quot;Maybe I'm missing something here, but don't we already have module ABC doing the same thing?&quot;</p>
</li>
<li>
<p><strong>Cite existing pattern.</strong><br />
For example: &quot;Let's follow the existing convention to have these values as constants up top.&quot;</p>
</li>
</ul>
<p>Of course these things also depend on the relationship between the code author and the reviewer. I'm much more of a dick when reviewing code written by someone I'm close with :).</p>
<h3>Stop typing, and discuss in person</h3>
<p>As a general rule of thumb, if a line of code has more than 3 or 5 comments, I would discuss with the author in person, or over IM (still typing, I know). Otherwise, public code reviews (where you whole team can see) can quickly turn into a pissing contest. By that point, nobody wants to lose face, and thus ego will involve and things turn from bad to worse.</p>
<p>After reaching a consensus, I would go back to the code review comment and say something a long the lines of &quot;Discussed offline. We agreed that...&quot;</p>
</div>
    </div>
</div>

            </main>
        </div>

        <footer>
            <div>Copyright 2020, Steven Luu</div>
            <div>
                This work is licensed under a&nbsp;
                <a rel="license noopener noreferrer" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"
                    target="_blank">
                    Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License
                </a>.
            </div>
            <div>The opinions expressed here are mine.</div>
        </footer>
    </div>

    
</body>

</html>